:root{
  --primary:#3498db;
  --secondary:#2c3e50;
  --success:#27ae60;
  --danger:#e74c3c;
  --warning:#f39c12;
  --light:#f8f9fa;
  --dark:#343a40;
  --gray:#7f8c8d;
  --container-max:900px;
  --radius:8px;
  --pad:12px;
}

/* Reset & base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:#f0f2f5;
  color:#222;
  line-height:1.5;
  padding:15px;
}

.container{
  max-width:var(--container-max);
  margin:0 auto;
  background:#fff;
  border-radius:10px;
  box-shadow:0 0 15px rgba(0,0,0,.08);
  padding:20px;
  min-height:500px;
  position:relative;
}

h1,h2,h3{ color:var(--secondary); margin:0 0 12px; }
h1{ font-size:1.4rem; text-align:center; padding-bottom:12px; border-bottom:2px solid var(--primary); }

/* Start config */
.start-screen .exam-info{
  background:#e8f4fd;
  padding:12px;
  border-radius:6px;
  border-left:4px solid var(--primary);
  margin-bottom:12px;
  font-size:.95rem;
}
.config-section{
  background:var(--light);
  padding:12px;
  border-radius:6px;
  margin-bottom:12px;
}
.config-group{ margin-bottom:10px; }
label{ display:block; font-weight:600; margin-bottom:6px; }
input[type="number"], .percentage-input{
  padding:6px;
  border:1px solid #ddd;
  border-radius:6px;
}
input[type="checkbox"]{ vertical-align:middle; margin-right:6px; }

/* percentage controls */
.percentage-controls{ display:flex; flex-direction:column; gap:10px; }
.percentage-control{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.percentage-label{ min-width:140px; font-weight:600; }
.percentage-slider{
  flex:1;
  height:6px;
  appearance:none;
  background:#ddd;
  border-radius:6px;
  min-width:120px;
}
.percentage-slider::-webkit-slider-thumb{ appearance:none; width:14px; height:14px; border-radius:50%; background:var(--primary); }
.percentage-value{ min-width:40px; text-align:center; font-weight:700; }
.percentage-total{
  margin-top:8px;
  padding:8px;
  border-radius:6px;
  text-align:center;
  background:#e8f4fd;
  font-weight:700;
}
.percentage-total.error{ background:#f8d7da; color:#721c24; }

/* pie & stats */
.pie-chart-container{ display:flex; flex-direction:column; align-items:center; margin-top:12px; }
.pie-chart{
  width:150px;
  height:150px;
  border-radius:50%;
  position:relative;
  display:inline-block;
  background: conic-gradient(var(--primary) calc(var(--a,80)*1%), var(--warning) calc(var(--a,80)*1%) calc((var(--a,80) + var(--b,15))*1%), var(--success) 0);
}
.pie-legend{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:8px; }
.legend-item{ display:flex; align-items:center; gap:8px; font-size:.85rem; }
.legend-color{ width:12px; height:12px; border-radius:2px; }

/* quick stats */
.quick-stats{ display:flex; gap:8px; margin-top:12px; }
.stat-box{ flex:1; text-align:center; padding:8px; border-radius:6px; background:var(--light); }
.stat-value{ font-size:1.3rem; font-weight:700; }

/* exam */
.timer{
  position:absolute;
  top:16px;
  right:20px;
  background:var(--secondary);
  color:#fff;
  padding:6px 10px;
  border-radius:999px;
  font-weight:700;
  font-size:.85rem;
}

.progress-container{ margin-top:6px; }
.progress-bar{ height:8px; background:#ecf0f1; border-radius:6px; overflow:hidden; }
.progress{ height:100%; background:var(--primary); width:0; transition:width .2s; }
.progress-text{ font-size:.85rem; color:var(--gray); text-align:center; margin-top:6px; }

.question-container{ margin-top:12px; }
.question-number{ font-weight:700; color:var(--primary); display:flex; align-items:center; gap:8px; margin-bottom:8px; }
.question-text{ font-weight:600; margin-bottom:12px; }
.options-container{ display:flex; flex-direction:column; gap:8px; }
.option{
  display:flex;
  align-items:flex-start;
  gap:8px;
  padding:10px;
  border:1px solid #e6e6e6;
  border-radius:6px;
  cursor:pointer;
  background:#fff;
  transition:box-shadow .12s, transform .08s;
}
.option:hover{ box-shadow:0 2px 8px rgba(0,0,0,.04); transform:translateY(-1px); }
.option.selected{ background:#eaf6ff; border-color:var(--primary); }
.option.correct{ background:#d4edda; border-color:var(--success); }
.option.incorrect{ background:#f8d7da; border-color:var(--danger); }
.option input{ margin-top:3px; }

.navigation{ display:flex; gap:8px; margin-top:12px; }
button{ padding:10px 14px; border-radius:6px; border:none; background:var(--primary); color:#fff; cursor:pointer; }
button.secondary{ background:#95a5a6; }
button.danger{ background:var(--danger); }

.hidden{ display:none; }

.results-container{ padding:12px; text-align:center; }
.review-container{ margin-top:12px; text-align:left; }
.review-item{
  margin-bottom:10px;
  padding:10px;
  border-radius:6px;
  background:var(--light);
  border-left:4px solid var(--primary);
}
.user-answer{ color:var(--danger); border-left:3px solid var(--danger); padding-left:8px; }
.correct-answer{ color:var(--success); border-left:3px solid var(--success); padding-left:8px; }
.review-explanation{
  margin-top:8px;
  padding:8px;
  background:#fff3cd;
  border-left:4px solid var(--warning);
  border-radius:6px;
  font-size:.9rem;
  color:#856404;
}

@media (max-width:768px){
  .timer{ position:relative; margin-bottom:10px; top:auto; right:auto; display:inline-block; }
  .quick-stats{ flex-direction:column; }
  .navigation{ flex-direction:column; }
  .percentage-control{ flex-direction:column; align-items:flex-start; }
}